/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/reactive-form/reactive-form.consts.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/** @type {?} */
export var VALIDATOR_REQUIRED = 'required';
/** @type {?} */
export var VALIDATOR_PATTERN = 'pattern';
/** @type {?} */
export var VALIDATOR_MINLENGTH = 'minlength';
/** @type {?} */
export var VALIDATOR_MAXLENGTH = 'maxlength';
import * as _ from 'lodash';
/** @type {?} */
export var UpdateFormValue = (/**
 * @param {?} inputs
 * @param {?} data
 * @param {?=} options
 * @return {?}
 */
function (inputs, data, options) {
    // tslint:disable-next-line:max-line-length
    /** @type {?} */
    var ableSimpleValue = [
        'textbox',
        'dropdown',
        'radio',
        'checkbox',
        'datetimepicker',
        'uploadfile',
        'phonecode',
        'textarea',
        'textbox-mask',
        'tinymce',
        'single-select2',
        'selection-by-api',
        'switch-input',
        'uploadfilev2',
        'uploadfilev3',
        'type-ahead',
        'type-ahead-without-api',
        'custom_dropdown',
        'ranger-slider',
        'gutenberg',
        'dropzone'
    ];
    _.forEach(data, (/**
     * @param {?} value
     * @param {?} key
     * @return {?}
     */
    function (value, key) {
        inputs = _.map(inputs, (/**
         * @param {?} input
         * @return {?}
         */
        function (input) {
            if (input.key === key) {
                if (_.includes(ableSimpleValue, input.controlType)) {
                    input.value = value;
                    return input;
                }
                switch (input.controlType) {
                    case 'list-checkbox':
                        input.options = input.options.map((/**
                         * @param {?} item
                         * @return {?}
                         */
                        function (item) {
                            var e_1, _a;
                            try {
                                for (var value_1 = tslib_1.__values(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {
                                    var i = value_1_1.value;
                                    if (item.value === i) {
                                        item.checked = true;
                                    }
                                }
                            }
                            catch (e_1_1) { e_1 = { error: e_1_1 }; }
                            finally {
                                try {
                                    if (value_1_1 && !value_1_1.done && (_a = value_1.return)) _a.call(value_1);
                                }
                                finally { if (e_1) throw e_1.error; }
                            }
                            return item;
                        }));
                        return input;
                        break;
                    case 'select2':
                        input.options = input.options.map((/**
                         * @param {?} item
                         * @return {?}
                         */
                        function (item) {
                            var e_2, _a;
                            try {
                                for (var value_2 = tslib_1.__values(value), value_2_1 = value_2.next(); !value_2_1.done; value_2_1 = value_2.next()) {
                                    var i = value_2_1.value;
                                    if (item.value === i) {
                                        item.selected = true;
                                    }
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (value_2_1 && !value_2_1.done && (_a = value_2.return)) _a.call(value_2);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                            return item;
                        }));
                        return input;
                        break;
                }
            }
            return input;
        }));
    }));
    return inputs;
});
/** @type {?} */
export var UpdateInputsValue = (/**
 * @param {?} inputs
 * @param {?} data
 * @return {?}
 */
function (inputs, data) {
    /** @type {?} */
    var ableType = ['dropdown', 'radio', 'list-checkbox', 'select2', 'single-select2', 'type-ahead-without-api', 'custom_dropdown'];
    _.forEach(data, (/**
     * @param {?} value
     * @param {?} key
     * @return {?}
     */
    function (value, key) {
        _.forEach(inputs, (/**
         * @param {?} input
         * @return {?}
         */
        function (input) {
            if (input.key === key) {
                if (_.includes(ableType, input.controlType)) {
                    input.options = value;
                }
                if (input.controlType === 'dropdown') {
                    input.value = _.head(value);
                }
                if (input.controlType === 'radio') {
                    input.value = ((/** @type {?} */ (_.head(value)))).value;
                }
            }
        }));
    }));
    return inputs;
});
var Support = /** @class */ (function () {
    function Support() {
        this.UpdateInputsValue = (/**
         * @param {?} inputs
         * @param {?} data
         * @return {?}
         */
        function (inputs, data) {
            /** @type {?} */
            var ableType = ['dropdown', 'radio', 'list-checkbox', 'select2', 'single-select2', 'type-ahead-without-api', 'custom_dropdown'];
            _.forEach(data, (/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                _.forEach(inputs, (/**
                 * @param {?} input
                 * @return {?}
                 */
                function (input) {
                    if (input.key === key) {
                        if (_.includes(ableType, input.controlType)) {
                            input.options = value;
                        }
                        if (input.controlType === 'dropdown') {
                            input.value = _.head(value);
                        }
                        if (input.controlType === 'radio') {
                            input.value = ((/** @type {?} */ (_.head(value)))).value;
                        }
                    }
                }));
            }));
            return inputs;
            // tslint:disable-next-line:semicolon
        });
        this.UpdateFormValue = (/**
         * @param {?} inputs
         * @param {?} data
         * @param {?=} options
         * @return {?}
         */
        function (inputs, data, options) {
            // tslint:disable-next-line:max-line-length
            /** @type {?} */
            var ableSimpleValue = [
                'textbox',
                'dropdown',
                'radio',
                'checkbox',
                'datetimepicker',
                'uploadfile',
                'phonecode',
                'textarea',
                'textbox-mask',
                'tinymce',
                'single-select2',
                'selection-by-api',
                'switch-input',
                'uploadfilev2',
                'uploadfilev3',
                'type-ahead',
                'type-ahead-without-api',
                'custom_dropdown',
                'ranger-slider',
                'gutenberg',
                'dropzone'
            ];
            _.forEach(data, (/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                inputs = _.map(inputs, (/**
                 * @param {?} input
                 * @return {?}
                 */
                function (input) {
                    if (input.key === key) {
                        if (_.includes(ableSimpleValue, input.controlType)) {
                            input.value = value;
                        }
                        switch (input.controlType) {
                            case 'list-checkbox':
                                input.options = input.options.map((/**
                                 * @param {?} item
                                 * @return {?}
                                 */
                                function (item) {
                                    var e_3, _a;
                                    try {
                                        for (var value_3 = tslib_1.__values(value), value_3_1 = value_3.next(); !value_3_1.done; value_3_1 = value_3.next()) {
                                            var i = value_3_1.value;
                                            if (item.value === i) {
                                                item.checked = true;
                                            }
                                        }
                                    }
                                    catch (e_3_1) { e_3 = { error: e_3_1 }; }
                                    finally {
                                        try {
                                            if (value_3_1 && !value_3_1.done && (_a = value_3.return)) _a.call(value_3);
                                        }
                                        finally { if (e_3) throw e_3.error; }
                                    }
                                    return item;
                                }));
                                break;
                            case 'select2':
                                input.options = input.options.map((/**
                                 * @param {?} item
                                 * @return {?}
                                 */
                                function (item) {
                                    var e_4, _a;
                                    try {
                                        for (var value_4 = tslib_1.__values(value), value_4_1 = value_4.next(); !value_4_1.done; value_4_1 = value_4.next()) {
                                            var i = value_4_1.value;
                                            if (item.value === i) {
                                                item.selected = true;
                                            }
                                        }
                                    }
                                    catch (e_4_1) { e_4 = { error: e_4_1 }; }
                                    finally {
                                        try {
                                            if (value_4_1 && !value_4_1.done && (_a = value_4.return)) _a.call(value_4);
                                        }
                                        finally { if (e_4) throw e_4.error; }
                                    }
                                    return item;
                                }));
                                break;
                        }
                    }
                    else {
                        input.value = input.value;
                    }
                    return input;
                }));
            }));
            return inputs;
            // tslint:disable-next-line:semicolon
        });
    }
    return Support;
}());
if (false) {
    /** @type {?} */
    Support.prototype.UpdateInputsValue;
    /** @type {?} */
    Support.prototype.UpdateFormValue;
}
/** @type {?} */
export var support = new Support();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUtZm9ybS5jb25zdHMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Admljb2RlcnMvcmVhY3RpdmUtZm9ybS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3JlYWN0aXZlLWZvcm0vcmVhY3RpdmUtZm9ybS5jb25zdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU0sS0FBTyxrQkFBa0IsR0FBRyxVQUFVOztBQUM1QyxNQUFNLEtBQU8saUJBQWlCLEdBQUcsU0FBUzs7QUFDMUMsTUFBTSxLQUFPLG1CQUFtQixHQUFHLFdBQVc7O0FBQzlDLE1BQU0sS0FBTyxtQkFBbUIsR0FBRyxXQUFXO0FBRTlDLE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDOztBQUU1QixNQUFNLEtBQU8sZUFBZTs7Ozs7O0FBQUcsVUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQVk7OztRQUVsRCxlQUFlLEdBQUc7UUFDdEIsU0FBUztRQUNULFVBQVU7UUFDVixPQUFPO1FBQ1AsVUFBVTtRQUNWLGdCQUFnQjtRQUNoQixZQUFZO1FBQ1osV0FBVztRQUNYLFVBQVU7UUFDVixjQUFjO1FBQ2QsU0FBUztRQUNULGdCQUFnQjtRQUNoQixrQkFBa0I7UUFDbEIsY0FBYztRQUNkLGNBQWM7UUFDZCxjQUFjO1FBQ2QsWUFBWTtRQUNaLHdCQUF3QjtRQUN4QixpQkFBaUI7UUFDakIsZUFBZTtRQUNmLFdBQVc7UUFDWCxVQUFVO0tBQ1g7SUFDRCxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUk7Ozs7O0lBQUUsVUFBUyxLQUFLLEVBQUUsR0FBRztRQUNqQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNOzs7O1FBQUUsVUFBQSxLQUFLO1lBQzFCLElBQUksS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFO29CQUNsRCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztvQkFDcEIsT0FBTyxLQUFLLENBQUM7aUJBQ2Q7Z0JBQ0QsUUFBUSxLQUFLLENBQUMsV0FBVyxFQUFFO29CQUN6QixLQUFLLGVBQWU7d0JBQ2xCLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHOzs7O3dCQUFDLFVBQUEsSUFBSTs7O2dDQUNwQyxLQUFnQixJQUFBLFVBQUEsaUJBQUEsS0FBSyxDQUFBLDRCQUFBLCtDQUFFO29DQUFsQixJQUFNLENBQUMsa0JBQUE7b0NBQ1YsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTt3Q0FDcEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7cUNBQ3JCO2lDQUNGOzs7Ozs7Ozs7NEJBQ0QsT0FBTyxJQUFJLENBQUM7d0JBQ2QsQ0FBQyxFQUFDLENBQUM7d0JBQ0gsT0FBTyxLQUFLLENBQUM7d0JBQ2IsTUFBTTtvQkFDUixLQUFLLFNBQVM7d0JBQ1osS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUc7Ozs7d0JBQUMsVUFBQSxJQUFJOzs7Z0NBQ3BDLEtBQWdCLElBQUEsVUFBQSxpQkFBQSxLQUFLLENBQUEsNEJBQUEsK0NBQUU7b0NBQWxCLElBQU0sQ0FBQyxrQkFBQTtvQ0FDVixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO3dDQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztxQ0FDdEI7aUNBQ0Y7Ozs7Ozs7Ozs0QkFDRCxPQUFPLElBQUksQ0FBQzt3QkFDZCxDQUFDLEVBQUMsQ0FBQzt3QkFDSCxPQUFPLEtBQUssQ0FBQzt3QkFDYixNQUFNO2lCQUNUO2FBQ0Y7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQyxFQUFDLENBQUM7SUFDSCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDLENBQUE7O0FBRUQsTUFBTSxLQUFPLGlCQUFpQjs7Ozs7QUFBRyxVQUFDLE1BQU0sRUFBRSxJQUFJOztRQUN0QyxRQUFRLEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsd0JBQXdCLEVBQUUsaUJBQWlCLENBQUM7SUFDakksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJOzs7OztJQUFFLFVBQVMsS0FBSyxFQUFFLEdBQUc7UUFDakMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNOzs7O1FBQUUsVUFBUyxLQUFLO1lBQzlCLElBQUksS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFO29CQUMzQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztpQkFDdkI7Z0JBQ0QsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLFVBQVUsRUFBRTtvQkFDcEMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUM3QjtnQkFDRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssT0FBTyxFQUFFO29CQUNqQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsbUJBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBTyxDQUFDLENBQUMsS0FBSyxDQUFDO2lCQUM1QzthQUNGO1FBQ0gsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDLEVBQUMsQ0FBQztJQUNILE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMsQ0FBQTtBQUVEO0lBQUE7UUFDRSxzQkFBaUI7Ozs7O1FBQUcsVUFBQyxNQUFNLEVBQUUsSUFBSTs7Z0JBQ3pCLFFBQVEsR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSxpQkFBaUIsQ0FBQztZQUNqSSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUk7Ozs7O1lBQUUsVUFBUyxLQUFLLEVBQUUsR0FBRztnQkFDakMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNOzs7O2dCQUFFLFVBQVMsS0FBSztvQkFDOUIsSUFBSSxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRTt3QkFDckIsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUU7NEJBQzNDLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO3lCQUN2Qjt3QkFDRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssVUFBVSxFQUFFOzRCQUNwQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7eUJBQzdCO3dCQUNELElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxPQUFPLEVBQUU7NEJBQ2pDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxtQkFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFPLENBQUMsQ0FBQyxLQUFLLENBQUM7eUJBQzVDO3FCQUNGO2dCQUNILENBQUMsRUFBQyxDQUFDO1lBQ0wsQ0FBQyxFQUFDLENBQUM7WUFDSCxPQUFPLE1BQU0sQ0FBQztZQUNkLHFDQUFxQztRQUN2QyxDQUFDLEVBQUM7UUFFRixvQkFBZTs7Ozs7O1FBQUcsVUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQVk7OztnQkFFckMsZUFBZSxHQUFHO2dCQUN0QixTQUFTO2dCQUNULFVBQVU7Z0JBQ1YsT0FBTztnQkFDUCxVQUFVO2dCQUNWLGdCQUFnQjtnQkFDaEIsWUFBWTtnQkFDWixXQUFXO2dCQUNYLFVBQVU7Z0JBQ1YsY0FBYztnQkFDZCxTQUFTO2dCQUNULGdCQUFnQjtnQkFDaEIsa0JBQWtCO2dCQUNsQixjQUFjO2dCQUNkLGNBQWM7Z0JBQ2QsY0FBYztnQkFDZCxZQUFZO2dCQUNaLHdCQUF3QjtnQkFDeEIsaUJBQWlCO2dCQUNqQixlQUFlO2dCQUNmLFdBQVc7Z0JBQ1gsVUFBVTthQUNYO1lBQ0QsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJOzs7OztZQUFFLFVBQVMsS0FBSyxFQUFFLEdBQUc7Z0JBQ2pDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU07Ozs7Z0JBQUUsVUFBQSxLQUFLO29CQUMxQixJQUFJLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxFQUFFO3dCQUNyQixJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRTs0QkFDbEQsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7eUJBQ3JCO3dCQUNELFFBQVEsS0FBSyxDQUFDLFdBQVcsRUFBRTs0QkFDekIsS0FBSyxlQUFlO2dDQUNsQixLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRzs7OztnQ0FBQyxVQUFBLElBQUk7Ozt3Q0FDcEMsS0FBZ0IsSUFBQSxVQUFBLGlCQUFBLEtBQUssQ0FBQSw0QkFBQSwrQ0FBRTs0Q0FBbEIsSUFBTSxDQUFDLGtCQUFBOzRDQUNWLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLEVBQUU7Z0RBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDOzZDQUNyQjt5Q0FDRjs7Ozs7Ozs7O29DQUNELE9BQU8sSUFBSSxDQUFDO2dDQUNkLENBQUMsRUFBQyxDQUFDO2dDQUNILE1BQU07NEJBQ1IsS0FBSyxTQUFTO2dDQUNaLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHOzs7O2dDQUFDLFVBQUEsSUFBSTs7O3dDQUNwQyxLQUFnQixJQUFBLFVBQUEsaUJBQUEsS0FBSyxDQUFBLDRCQUFBLCtDQUFFOzRDQUFsQixJQUFNLENBQUMsa0JBQUE7NENBQ1YsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnREFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7NkNBQ3RCO3lDQUNGOzs7Ozs7Ozs7b0NBQ0QsT0FBTyxJQUFJLENBQUM7Z0NBQ2QsQ0FBQyxFQUFDLENBQUM7Z0NBQ0gsTUFBTTt5QkFDVDtxQkFDRjt5QkFBTTt3QkFDTCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7cUJBQzNCO29CQUNELE9BQU8sS0FBSyxDQUFDO2dCQUNmLENBQUMsRUFBQyxDQUFDO1lBQ0wsQ0FBQyxFQUFDLENBQUM7WUFDSCxPQUFPLE1BQU0sQ0FBQztZQUNkLHFDQUFxQztRQUN2QyxDQUFDLEVBQUM7SUFDSixDQUFDO0lBQUQsY0FBQztBQUFELENBQUMsQUFwRkQsSUFvRkM7OztJQW5GQyxvQ0FtQkU7O0lBRUYsa0NBNkRFOzs7QUFHSixNQUFNLEtBQU8sT0FBTyxHQUFHLElBQUksT0FBTyxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFZBTElEQVRPUl9SRVFVSVJFRCA9ICdyZXF1aXJlZCc7XG5leHBvcnQgY29uc3QgVkFMSURBVE9SX1BBVFRFUk4gPSAncGF0dGVybic7XG5leHBvcnQgY29uc3QgVkFMSURBVE9SX01JTkxFTkdUSCA9ICdtaW5sZW5ndGgnO1xuZXhwb3J0IGNvbnN0IFZBTElEQVRPUl9NQVhMRU5HVEggPSAnbWF4bGVuZ3RoJztcblxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgY29uc3QgVXBkYXRlRm9ybVZhbHVlID0gKGlucHV0cywgZGF0YSwgb3B0aW9ucz86IHt9KSA9PiB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgY29uc3QgYWJsZVNpbXBsZVZhbHVlID0gW1xuICAgICd0ZXh0Ym94JyxcbiAgICAnZHJvcGRvd24nLFxuICAgICdyYWRpbycsXG4gICAgJ2NoZWNrYm94JyxcbiAgICAnZGF0ZXRpbWVwaWNrZXInLFxuICAgICd1cGxvYWRmaWxlJyxcbiAgICAncGhvbmVjb2RlJyxcbiAgICAndGV4dGFyZWEnLFxuICAgICd0ZXh0Ym94LW1hc2snLFxuICAgICd0aW55bWNlJyxcbiAgICAnc2luZ2xlLXNlbGVjdDInLFxuICAgICdzZWxlY3Rpb24tYnktYXBpJyxcbiAgICAnc3dpdGNoLWlucHV0JyxcbiAgICAndXBsb2FkZmlsZXYyJyxcbiAgICAndXBsb2FkZmlsZXYzJyxcbiAgICAndHlwZS1haGVhZCcsXG4gICAgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLFxuICAgICdjdXN0b21fZHJvcGRvd24nLFxuICAgICdyYW5nZXItc2xpZGVyJyxcbiAgICAnZ3V0ZW5iZXJnJyxcbiAgICAnZHJvcHpvbmUnXG4gIF07XG4gIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgaW5wdXRzID0gXy5tYXAoaW5wdXRzLCBpbnB1dCA9PiB7XG4gICAgICBpZiAoaW5wdXQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgaWYgKF8uaW5jbHVkZXMoYWJsZVNpbXBsZVZhbHVlLCBpbnB1dC5jb250cm9sVHlwZSkpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGlucHV0LmNvbnRyb2xUeXBlKSB7XG4gICAgICAgICAgY2FzZSAnbGlzdC1jaGVja2JveCc6XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2VsZWN0Mic6XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gaW5wdXRzO1xufTtcblxuZXhwb3J0IGNvbnN0IFVwZGF0ZUlucHV0c1ZhbHVlID0gKGlucHV0cywgZGF0YSkgPT4ge1xuICBjb25zdCBhYmxlVHlwZSA9IFsnZHJvcGRvd24nLCAncmFkaW8nLCAnbGlzdC1jaGVja2JveCcsICdzZWxlY3QyJywgJ3NpbmdsZS1zZWxlY3QyJywgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLCAnY3VzdG9tX2Ryb3Bkb3duJ107XG4gIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgXy5mb3JFYWNoKGlucHV0cywgZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIGlmIChpbnB1dC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoXy5pbmNsdWRlcyhhYmxlVHlwZSwgaW5wdXQuY29udHJvbFR5cGUpKSB7XG4gICAgICAgICAgaW5wdXQub3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gJ2Ryb3Bkb3duJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gXy5oZWFkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IChfLmhlYWQodmFsdWUpIGFzIGFueSkudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBpbnB1dHM7XG59O1xuXG5jbGFzcyBTdXBwb3J0IHtcbiAgVXBkYXRlSW5wdXRzVmFsdWUgPSAoaW5wdXRzLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgYWJsZVR5cGUgPSBbJ2Ryb3Bkb3duJywgJ3JhZGlvJywgJ2xpc3QtY2hlY2tib3gnLCAnc2VsZWN0MicsICdzaW5nbGUtc2VsZWN0MicsICd0eXBlLWFoZWFkLXdpdGhvdXQtYXBpJywgJ2N1c3RvbV9kcm9wZG93biddO1xuICAgIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBfLmZvckVhY2goaW5wdXRzLCBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhhYmxlVHlwZSwgaW5wdXQuY29udHJvbFR5cGUpKSB7XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gJ2Ryb3Bkb3duJykge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBfLmhlYWQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gKF8uaGVhZCh2YWx1ZSkgYXMgYW55KS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dHM7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xuXG4gIFVwZGF0ZUZvcm1WYWx1ZSA9IChpbnB1dHMsIGRhdGEsIG9wdGlvbnM/OiB7fSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBjb25zdCBhYmxlU2ltcGxlVmFsdWUgPSBbXG4gICAgICAndGV4dGJveCcsXG4gICAgICAnZHJvcGRvd24nLFxuICAgICAgJ3JhZGlvJyxcbiAgICAgICdjaGVja2JveCcsXG4gICAgICAnZGF0ZXRpbWVwaWNrZXInLFxuICAgICAgJ3VwbG9hZGZpbGUnLFxuICAgICAgJ3Bob25lY29kZScsXG4gICAgICAndGV4dGFyZWEnLFxuICAgICAgJ3RleHRib3gtbWFzaycsXG4gICAgICAndGlueW1jZScsXG4gICAgICAnc2luZ2xlLXNlbGVjdDInLFxuICAgICAgJ3NlbGVjdGlvbi1ieS1hcGknLFxuICAgICAgJ3N3aXRjaC1pbnB1dCcsXG4gICAgICAndXBsb2FkZmlsZXYyJyxcbiAgICAgICd1cGxvYWRmaWxldjMnLFxuICAgICAgJ3R5cGUtYWhlYWQnLFxuICAgICAgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLFxuICAgICAgJ2N1c3RvbV9kcm9wZG93bicsXG4gICAgICAncmFuZ2VyLXNsaWRlcicsXG4gICAgICAnZ3V0ZW5iZXJnJyxcbiAgICAgICdkcm9wem9uZSdcbiAgICBdO1xuICAgIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBpbnB1dHMgPSBfLm1hcChpbnB1dHMsIGlucHV0ID0+IHtcbiAgICAgICAgaWYgKGlucHV0LmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgaWYgKF8uaW5jbHVkZXMoYWJsZVNpbXBsZVZhbHVlLCBpbnB1dC5jb250cm9sVHlwZSkpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAoaW5wdXQuY29udHJvbFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xpc3QtY2hlY2tib3gnOlxuICAgICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0Mic6XG4gICAgICAgICAgICAgIGlucHV0Lm9wdGlvbnMgPSBpbnB1dC5vcHRpb25zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dHM7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xufVxuXG5leHBvcnQgY29uc3Qgc3VwcG9ydCA9IG5ldyBTdXBwb3J0KCk7XG4iXX0=