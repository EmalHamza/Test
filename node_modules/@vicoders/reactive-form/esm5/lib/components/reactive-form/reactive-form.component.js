/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/reactive-form/reactive-form.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { FormControlService } from '../../services/form-control.service';
import * as _ from 'lodash';
import { PhoneCode } from '../../models/PhoneCode';
import { TinyMce } from '../../models/TinyMce';
import { CheckBox } from '../../models/CheckBox';
import { SwitchInput } from '../../models/SwitchInput';
import { SelectionByApi } from '../../models/SelectionByApi';
import { Select2 } from '../../models/Select2';
import { ListCheckBox } from '../../models/ListCheckBox';
var ReactiveFormComponent = /** @class */ (function () {
    function ReactiveFormComponent(fcs) {
        this.fcs = fcs;
        this.groups = [];
        this.inputs = [];
        this.captchaCorrect = true;
        this.values = {};
        this.submitted = false;
        this.clear = false;
    }
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.onInitReactive) {
            this.onInitReactive.apply(null, [this.form]);
        }
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.onChangesReactive = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var $this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.keysChange !== undefined) {
                _.forEach(_this.keysChange, (/**
                 * @param {?} value
                 * @return {?}
                 */
                function (value) {
                    $this.form.get(value).valueChanges.subscribe((/**
                     * @param {?} val
                     * @return {?}
                     */
                    function (val) {
                        $this.values[value] = val;
                        $this.form.value[value] = val;
                        $this.onChangeReactive.apply(null, [$this.form]);
                    }));
                }));
            }
            else {
                _this.form.valueChanges.subscribe((/**
                 * @param {?} val
                 * @return {?}
                 */
                function (val) {
                    if (_this.onChangeReactive !== undefined) {
                        _this.onChangeReactive.apply(null, [_this.form]);
                    }
                }));
            }
        }), 500);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    ReactiveFormComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        /** @type {?} */
        var groups = [];
        /** @type {?} */
        var grouped = _.groupBy(this.inputs, 'group');
        // tslint:disable-next-line:forin
        for (var k in grouped) {
            groups.push({
                group: k,
                items: grouped[k],
                classes: _.head(grouped[k]).group_classes
            });
        }
        this.groups = groups;
        this.form = this.fcs.toFormGroup(this.inputs);
        this.onChangesReactive();
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.submit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.submitted = true;
        if (this.form.invalid) {
            if (this.scrollOnErrror && this.scrollOnErrror === true) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    $('html, body').animate({
                        scrollTop: $('.errorMessage').first().offset().top - 70
                    }, 1000);
                }), 100);
            }
            return false;
        }
        if (this.captcha && this.form.value["" + this.captcha].value !== this.form.value["" + this.captcha].code) {
            this.captchaCorrect = false;
            return false;
        }
        this.captchaCorrect = true;
        if (this.onSubmit !== undefined) {
            delete this.form.value[''];
            this.onSubmit.apply(null, [this.form]);
        }
        this.clear = false;
        if (!this.saveValue || this.saveValue === false) {
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this.clearData();
            }), 2);
        }
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.resetFunction = /**
     * @return {?}
     */
    function () {
        if (confirm('Are you sure want to reset this form?')) {
            this.clearData();
        }
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.customSubmitFunction = /**
     * @return {?}
     */
    function () {
        this.submitted = true;
        if (this.form.invalid) {
            return false;
        }
        if (this.customSubmit !== undefined) {
            delete this.form.value[''];
            this.customSubmit.apply(null, [this.form]);
        }
        this.clear = false;
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.customButtonFunction = /**
     * @return {?}
     */
    function () {
        if (this.customButton !== undefined) {
            this.customButton.apply(null, []);
        }
    };
    /**
     * @return {?}
     */
    ReactiveFormComponent.prototype.clearData = /**
     * @return {?}
     */
    function () {
        this.clear = true;
        this.submitted = false;
        /** @type {?} */
        var data = {};
        _.forEach(this.inputs, (/**
         * @param {?} input
         * @return {?}
         */
        function (input) {
            if (input.controlType === new PhoneCode().controlType) {
                data[input.key] = {
                    code: '',
                    value: ''
                };
            }
            if (input.controlType === new TinyMce().controlType) {
                data[input.key] = '';
            }
            if (input.controlType === new CheckBox().controlType || input.controlType === new SwitchInput().controlType) {
                input.value = false;
            }
            if (input.controlType === new SelectionByApi().controlType) {
                input.value = null;
            }
            if (input.controlType === new Select2().controlType || input.controlType === new ListCheckBox().controlType) {
                input.value = [];
            }
        }));
        this.form.reset(data);
        _.forEach(this.inputs, (/**
         * @param {?} input
         * @return {?}
         */
        function (input) {
            if (input.controlType === new CheckBox().controlType || input.controlType === new SwitchInput().controlType) {
                input.value = false;
            }
            if (input.controlType === new SelectionByApi().controlType) {
                input.value = null;
            }
            if (input.controlType === new Select2().controlType || input.controlType === new ListCheckBox().controlType) {
                input.value = [];
            }
        }));
        this.form.markAsPristine();
        this.form.markAsUntouched();
    };
    ReactiveFormComponent.decorators = [
        { type: Component, args: [{
                    // tslint:disable-next-line:component-selector
                    selector: 'reactive-form',
                    template: "<form autocomplete=\"off\" (ngSubmit)=\"submit()\" [formGroup]=\"form\" id=\"{{ themeID ? themeID : 'none' }}\">\r\n  <div class=\"row\">\r\n    <div class=\"dynamic-collection\" *ngFor=\"let group of groups\" [ngClass]=\"group.classes\">\r\n      <div class=\"row\">\r\n        <div *ngFor=\"let input of group.items\" class=\"dynamic-input-group\" [ngClass]=\"input.classes\">\r\n          <dynamic-input\r\n            [captchaCorrect]=\"captchaCorrect\"\r\n            [isClear]=\"clear\"\r\n            [input]=\"input\"\r\n            [form]=\"form\"\r\n            [submitted]=\"submitted\"\r\n          ></dynamic-input>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"dynamic-submit-btn\">\r\n    <button type=\"submit\" [ngClass]=\"{ disabled: !form.valid }\" class=\"btn btn-primary m-r-15 ripple light\">\r\n      <i class=\"icofont icofont-plus m-r-5\"></i> {{ submitText !== undefined ? submitText : 'Submit' }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"isReset !== undefined && isReset === true\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary m-r-15 ripple light btn-reset\"\r\n      (click)=\"resetFunction()\"\r\n    >\r\n      <i class=\"icofont icofont-plus m-r-5\"></i> {{ resetText !== undefined ? resetText : 'Reset' }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"customSubmit !== undefined\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary m-r-15 ripple light btn-reset\"\r\n      (click)=\"customSubmitFunction()\"\r\n    >\r\n      <i class=\"icofont icofont-plus m-r-5\"></i> {{ customeSubmitText !== undefined ? customeSubmitText : 'Custom Submit' }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"customButton !== undefined\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary m-r-15 ripple light btn-reset\"\r\n      (click)=\"customButtonFunction()\"\r\n    >\r\n      <i class=\"icofont icofont-plus m-r-5\"></i> {{ customButtonText !== undefined ? customButtonText : 'Custom Button' }}\r\n    </button>\r\n  </div>\r\n</form>\r\n",
                    providers: [FormControlService],
                    styles: [":host .dynamic-collection{margin-bottom:10px}:host .btn-reset{float:right}:host .rf__captcha--error{margin-top:15px;color:#e74c3c;font-size:15px}"]
                }] }
    ];
    /** @nocollapse */
    ReactiveFormComponent.ctorParameters = function () { return [
        { type: FormControlService }
    ]; };
    ReactiveFormComponent.propDecorators = {
        inputs: [{ type: Input }],
        onSubmit: [{ type: Input }],
        submitText: [{ type: Input }],
        onChangeReactive: [{ type: Input }],
        keysChange: [{ type: Input }],
        isReset: [{ type: Input }],
        resetText: [{ type: Input }],
        customSubmit: [{ type: Input }],
        customButton: [{ type: Input }],
        customeSubmitText: [{ type: Input }],
        customButtonText: [{ type: Input }],
        saveValue: [{ type: Input }],
        captcha: [{ type: Input }],
        scrollOnErrror: [{ type: Input }],
        themeID: [{ type: Input }],
        onInitReactive: [{ type: Input }]
    };
    return ReactiveFormComponent;
}());
export { ReactiveFormComponent };
if (false) {
    /** @type {?} */
    ReactiveFormComponent.prototype.groups;
    /** @type {?} */
    ReactiveFormComponent.prototype.inputs;
    /** @type {?} */
    ReactiveFormComponent.prototype.onSubmit;
    /** @type {?} */
    ReactiveFormComponent.prototype.submitText;
    /** @type {?} */
    ReactiveFormComponent.prototype.onChangeReactive;
    /** @type {?} */
    ReactiveFormComponent.prototype.keysChange;
    /** @type {?} */
    ReactiveFormComponent.prototype.isReset;
    /** @type {?} */
    ReactiveFormComponent.prototype.resetText;
    /** @type {?} */
    ReactiveFormComponent.prototype.customSubmit;
    /** @type {?} */
    ReactiveFormComponent.prototype.customButton;
    /** @type {?} */
    ReactiveFormComponent.prototype.customeSubmitText;
    /** @type {?} */
    ReactiveFormComponent.prototype.customButtonText;
    /** @type {?} */
    ReactiveFormComponent.prototype.saveValue;
    /** @type {?} */
    ReactiveFormComponent.prototype.captcha;
    /** @type {?} */
    ReactiveFormComponent.prototype.scrollOnErrror;
    /** @type {?} */
    ReactiveFormComponent.prototype.themeID;
    /** @type {?} */
    ReactiveFormComponent.prototype.onInitReactive;
    /** @type {?} */
    ReactiveFormComponent.prototype.captchaCorrect;
    /** @type {?} */
    ReactiveFormComponent.prototype.values;
    /** @type {?} */
    ReactiveFormComponent.prototype.form;
    /** @type {?} */
    ReactiveFormComponent.prototype.submitted;
    /** @type {?} */
    ReactiveFormComponent.prototype.clear;
    /**
     * @type {?}
     * @private
     */
    ReactiveFormComponent.prototype.fcs;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUtZm9ybS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Admljb2RlcnMvcmVhY3RpdmUtZm9ybS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3JlYWN0aXZlLWZvcm0vcmVhY3RpdmUtZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFFbkYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDekUsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFFNUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBR3pEO0lBK0JFLCtCQUFvQixHQUF1QjtRQUF2QixRQUFHLEdBQUgsR0FBRyxDQUFvQjtRQXZCM0MsV0FBTSxHQUFxQixFQUFFLENBQUM7UUFDckIsV0FBTSxHQUFxQixFQUFFLENBQUM7UUFnQnZDLG1CQUFjLEdBQUcsSUFBSSxDQUFDO1FBRXRCLFdBQU0sR0FBUSxFQUFFLENBQUM7UUFFakIsY0FBUyxHQUFZLEtBQUssQ0FBQztRQUMzQixVQUFLLEdBQVksS0FBSyxDQUFDO0lBQ3VCLENBQUM7Ozs7SUFFL0Msd0NBQVE7OztJQUFSO1FBQ0UsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQzlDO0lBQ0gsQ0FBQzs7OztJQUVELGlEQUFpQjs7O0lBQWpCO1FBQUEsaUJBbUJDOztZQWxCTyxLQUFLLEdBQUcsSUFBSTtRQUNsQixVQUFVOzs7UUFBQztZQUNULElBQUksS0FBSSxDQUFDLFVBQVUsS0FBSyxTQUFTLEVBQUU7Z0JBQ2pDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFVBQVU7Ozs7Z0JBQUUsVUFBVSxLQUFLO29CQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsU0FBUzs7OztvQkFBQyxVQUFDLEdBQUc7d0JBQy9DLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUMxQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7d0JBQzlCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ25ELENBQUMsRUFBQyxDQUFDO2dCQUNMLENBQUMsRUFBQyxDQUFDO2FBQ0o7aUJBQU07Z0JBQ0wsS0FBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUzs7OztnQkFBQyxVQUFDLEdBQUc7b0JBQ25DLElBQUksS0FBSSxDQUFDLGdCQUFnQixLQUFLLFNBQVMsRUFBRTt3QkFDdkMsS0FBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztxQkFDaEQ7Z0JBQ0gsQ0FBQyxFQUFDLENBQUM7YUFDSjtRQUNILENBQUMsR0FBRSxHQUFHLENBQUMsQ0FBQztJQUNWLENBQUM7Ozs7O0lBRUQsMkNBQVc7Ozs7SUFBWCxVQUFZLE9BQXNCOztZQUMxQixNQUFNLEdBQUcsRUFBRTs7WUFDWCxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztRQUUvQyxpQ0FBaUM7UUFDakMsS0FBSyxJQUFNLENBQUMsSUFBSSxPQUFPLEVBQUU7WUFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFDVixLQUFLLEVBQUUsQ0FBQztnQkFDUixLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYTthQUMxQyxDQUFDLENBQUM7U0FDSjtRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7SUFFRCxzQ0FBTTs7O0lBQU47UUFBQSxpQkFpQ0M7UUFoQ0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxJQUFJLEVBQUU7Z0JBQ3ZELFVBQVU7OztnQkFBQztvQkFDVCxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUNyQjt3QkFDRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFO3FCQUN4RCxFQUNELElBQUksQ0FDTCxDQUFDO2dCQUNKLENBQUMsR0FBRSxHQUFHLENBQUMsQ0FBQzthQUNUO1lBQ0QsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFHLElBQUksQ0FBQyxPQUFTLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBRyxJQUFJLENBQUMsT0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFO1lBQ3hHLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO1lBQzVCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUUzQixJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO1lBQy9CLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDeEM7UUFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLEtBQUssRUFBRTtZQUMvQyxVQUFVOzs7WUFBQztnQkFDVCxLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDbkIsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ1A7SUFDSCxDQUFDOzs7O0lBRUQsNkNBQWE7OztJQUFiO1FBQ0UsSUFBSSxPQUFPLENBQUMsdUNBQXVDLENBQUMsRUFBRTtZQUNwRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDbEI7SUFDSCxDQUFDOzs7O0lBRUQsb0RBQW9COzs7SUFBcEI7UUFDRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ3JCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO1lBQ25DLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDM0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDNUM7UUFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixDQUFDOzs7O0lBRUQsb0RBQW9COzs7SUFBcEI7UUFDRSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO1lBQ25DLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNuQztJQUNILENBQUM7Ozs7SUFFRCx5Q0FBUzs7O0lBQVQ7UUFDRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQzs7WUFDakIsSUFBSSxHQUFHLEVBQUU7UUFDZixDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNOzs7O1FBQUUsVUFBQyxLQUFLO1lBQzNCLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxJQUFJLFNBQVMsRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDckQsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRztvQkFDaEIsSUFBSSxFQUFFLEVBQUU7b0JBQ1IsS0FBSyxFQUFFLEVBQUU7aUJBQ1YsQ0FBQzthQUNIO1lBQ0QsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLElBQUksT0FBTyxFQUFFLENBQUMsV0FBVyxFQUFFO2dCQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzthQUN0QjtZQUNELElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxJQUFJLFFBQVEsRUFBRSxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLElBQUksV0FBVyxFQUFFLENBQUMsV0FBVyxFQUFFO2dCQUMzRyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzthQUNyQjtZQUNELElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxJQUFJLGNBQWMsRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDMUQsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7YUFDcEI7WUFDRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssSUFBSSxPQUFPLEVBQUUsQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxJQUFJLFlBQVksRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDM0csS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7YUFDbEI7UUFDSCxDQUFDLEVBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU07Ozs7UUFBRSxVQUFDLEtBQUs7WUFDM0IsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLElBQUksUUFBUSxFQUFFLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssSUFBSSxXQUFXLEVBQUUsQ0FBQyxXQUFXLEVBQUU7Z0JBQzNHLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2FBQ3JCO1lBQ0QsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLElBQUksY0FBYyxFQUFFLENBQUMsV0FBVyxFQUFFO2dCQUMxRCxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzthQUNwQjtZQUNELElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxJQUFJLE9BQU8sRUFBRSxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUMsV0FBVyxLQUFLLElBQUksWUFBWSxFQUFFLENBQUMsV0FBVyxFQUFFO2dCQUMzRyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUNsQjtRQUNILENBQUMsRUFBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzlCLENBQUM7O2dCQS9LRixTQUFTLFNBQUM7O29CQUVULFFBQVEsRUFBRSxlQUFlO29CQUN6Qiw4L0RBQTZDO29CQUU3QyxTQUFTLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQzs7aUJBQ2hDOzs7O2dCQWxCUSxrQkFBa0I7Ozt5QkFxQnhCLEtBQUs7MkJBQ0wsS0FBSzs2QkFDTCxLQUFLO21DQUNMLEtBQUs7NkJBQ0wsS0FBSzswQkFDTCxLQUFLOzRCQUNMLEtBQUs7K0JBQ0wsS0FBSzsrQkFDTCxLQUFLO29DQUNMLEtBQUs7bUNBQ0wsS0FBSzs0QkFDTCxLQUFLOzBCQUNMLEtBQUs7aUNBQ0wsS0FBSzswQkFDTCxLQUFLO2lDQUNMLEtBQUs7O0lBd0pSLDRCQUFDO0NBQUEsQUFoTEQsSUFnTEM7U0F6S1kscUJBQXFCOzs7SUFDaEMsdUNBQThCOztJQUM5Qix1Q0FBdUM7O0lBQ3ZDLHlDQUE2Qjs7SUFDN0IsMkNBQTZCOztJQUM3QixpREFBcUM7O0lBQ3JDLDJDQUEwQjs7SUFDMUIsd0NBQTJCOztJQUMzQiwwQ0FBNEI7O0lBQzVCLDZDQUFpQzs7SUFDakMsNkNBQWlDOztJQUNqQyxrREFBb0M7O0lBQ3BDLGlEQUFtQzs7SUFDbkMsMENBQTZCOztJQUM3Qix3Q0FBMEI7O0lBQzFCLCtDQUFrQzs7SUFDbEMsd0NBQTBCOztJQUMxQiwrQ0FBbUM7O0lBQ25DLCtDQUFzQjs7SUFFdEIsdUNBQWlCOztJQUNqQixxQ0FBZ0I7O0lBQ2hCLDBDQUEyQjs7SUFDM0Isc0NBQXVCOzs7OztJQUNYLG9DQUErQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgU2ltcGxlQ2hhbmdlcywgT25DaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IElucHV0QmFzZSB9IGZyb20gJy4uLy4uL21vZGVscy9JbnB1dEJhc2UnO1xyXG5pbXBvcnQgeyBGb3JtQ29udHJvbFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9mb3JtLWNvbnRyb2wuc2VydmljZSc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IHsgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBQaG9uZUNvZGUgfSBmcm9tICcuLi8uLi9tb2RlbHMvUGhvbmVDb2RlJztcclxuaW1wb3J0IHsgVGlueU1jZSB9IGZyb20gJy4uLy4uL21vZGVscy9UaW55TWNlJztcclxuaW1wb3J0IHsgQ2hlY2tCb3ggfSBmcm9tICcuLi8uLi9tb2RlbHMvQ2hlY2tCb3gnO1xyXG5pbXBvcnQgeyBTd2l0Y2hJbnB1dCB9IGZyb20gJy4uLy4uL21vZGVscy9Td2l0Y2hJbnB1dCc7XHJcbmltcG9ydCB7IFNlbGVjdGlvbkJ5QXBpIH0gZnJvbSAnLi4vLi4vbW9kZWxzL1NlbGVjdGlvbkJ5QXBpJztcclxuaW1wb3J0IHsgU2VsZWN0MiB9IGZyb20gJy4uLy4uL21vZGVscy9TZWxlY3QyJztcclxuaW1wb3J0IHsgTGlzdENoZWNrQm94IH0gZnJvbSAnLi4vLi4vbW9kZWxzL0xpc3RDaGVja0JveCc7XHJcbmRlY2xhcmUgY29uc3QgJDogYW55O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNvbXBvbmVudC1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAncmVhY3RpdmUtZm9ybScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3JlYWN0aXZlLWZvcm0uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3JlYWN0aXZlLWZvcm0uY29tcG9uZW50LnNjc3MnXSxcclxuICBwcm92aWRlcnM6IFtGb3JtQ29udHJvbFNlcnZpY2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBSZWFjdGl2ZUZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XHJcbiAgZ3JvdXBzOiBJbnB1dEJhc2U8YW55PltdID0gW107XHJcbiAgQElucHV0KCkgaW5wdXRzOiBJbnB1dEJhc2U8YW55PltdID0gW107XHJcbiAgQElucHV0KCkgb25TdWJtaXQ/OiBGdW5jdGlvbjtcclxuICBASW5wdXQoKSBzdWJtaXRUZXh0PzogU3RyaW5nO1xyXG4gIEBJbnB1dCgpIG9uQ2hhbmdlUmVhY3RpdmU/OiBGdW5jdGlvbjtcclxuICBASW5wdXQoKSBrZXlzQ2hhbmdlPzogYW55O1xyXG4gIEBJbnB1dCgpIGlzUmVzZXQ/OiBCb29sZWFuO1xyXG4gIEBJbnB1dCgpIHJlc2V0VGV4dD86IFN0cmluZztcclxuICBASW5wdXQoKSBjdXN0b21TdWJtaXQ/OiBGdW5jdGlvbjtcclxuICBASW5wdXQoKSBjdXN0b21CdXR0b24/OiBGdW5jdGlvbjtcclxuICBASW5wdXQoKSBjdXN0b21lU3VibWl0VGV4dD86IFN0cmluZztcclxuICBASW5wdXQoKSBjdXN0b21CdXR0b25UZXh0PzogU3RyaW5nO1xyXG4gIEBJbnB1dCgpIHNhdmVWYWx1ZT86IEJvb2xlYW47XHJcbiAgQElucHV0KCkgY2FwdGNoYT86IFN0cmluZztcclxuICBASW5wdXQoKSBzY3JvbGxPbkVycnJvcj86IEJvb2xlYW47XHJcbiAgQElucHV0KCkgdGhlbWVJRD86IFN0cmluZztcclxuICBASW5wdXQoKSBvbkluaXRSZWFjdGl2ZT86IEZ1bmN0aW9uO1xyXG4gIGNhcHRjaGFDb3JyZWN0ID0gdHJ1ZTtcclxuXHJcbiAgdmFsdWVzOiBhbnkgPSB7fTtcclxuICBmb3JtOiBGb3JtR3JvdXA7XHJcbiAgc3VibWl0dGVkOiBCb29sZWFuID0gZmFsc2U7XHJcbiAgY2xlYXI6IEJvb2xlYW4gPSBmYWxzZTtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZjczogRm9ybUNvbnRyb2xTZXJ2aWNlKSB7fVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGlmICh0aGlzLm9uSW5pdFJlYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMub25Jbml0UmVhY3RpdmUuYXBwbHkobnVsbCwgW3RoaXMuZm9ybV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2VzUmVhY3RpdmUoKSB7XHJcbiAgICBjb25zdCAkdGhpcyA9IHRoaXM7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMua2V5c0NoYW5nZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgXy5mb3JFYWNoKHRoaXMua2V5c0NoYW5nZSwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAkdGhpcy5mb3JtLmdldCh2YWx1ZSkudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodmFsKSA9PiB7XHJcbiAgICAgICAgICAgICR0aGlzLnZhbHVlc1t2YWx1ZV0gPSB2YWw7XHJcbiAgICAgICAgICAgICR0aGlzLmZvcm0udmFsdWVbdmFsdWVdID0gdmFsO1xyXG4gICAgICAgICAgICAkdGhpcy5vbkNoYW5nZVJlYWN0aXZlLmFwcGx5KG51bGwsIFskdGhpcy5mb3JtXSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmZvcm0udmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodmFsKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5vbkNoYW5nZVJlYWN0aXZlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZVJlYWN0aXZlLmFwcGx5KG51bGwsIFt0aGlzLmZvcm1dKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSwgNTAwKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xyXG4gICAgY29uc3QgZ3JvdXBlZCA9IF8uZ3JvdXBCeSh0aGlzLmlucHV0cywgJ2dyb3VwJyk7XHJcblxyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXHJcbiAgICBmb3IgKGNvbnN0IGsgaW4gZ3JvdXBlZCkge1xyXG4gICAgICBncm91cHMucHVzaCh7XHJcbiAgICAgICAgZ3JvdXA6IGssXHJcbiAgICAgICAgaXRlbXM6IGdyb3VwZWRba10sXHJcbiAgICAgICAgY2xhc3NlczogXy5oZWFkKGdyb3VwZWRba10pLmdyb3VwX2NsYXNzZXNcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdyb3VwcyA9IGdyb3VwcztcclxuICAgIHRoaXMuZm9ybSA9IHRoaXMuZmNzLnRvRm9ybUdyb3VwKHRoaXMuaW5wdXRzKTtcclxuICAgIHRoaXMub25DaGFuZ2VzUmVhY3RpdmUoKTtcclxuICB9XHJcblxyXG4gIHN1Ym1pdCgpIHtcclxuICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgIGlmICh0aGlzLmZvcm0uaW52YWxpZCkge1xyXG4gICAgICBpZiAodGhpcy5zY3JvbGxPbkVycnJvciAmJiB0aGlzLnNjcm9sbE9uRXJycm9yID09PSB0cnVlKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHNjcm9sbFRvcDogJCgnLmVycm9yTWVzc2FnZScpLmZpcnN0KCkub2Zmc2V0KCkudG9wIC0gNzBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgMTAwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNhcHRjaGEgJiYgdGhpcy5mb3JtLnZhbHVlW2Ake3RoaXMuY2FwdGNoYX1gXS52YWx1ZSAhPT0gdGhpcy5mb3JtLnZhbHVlW2Ake3RoaXMuY2FwdGNoYX1gXS5jb2RlKSB7XHJcbiAgICAgIHRoaXMuY2FwdGNoYUNvcnJlY3QgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jYXB0Y2hhQ29ycmVjdCA9IHRydWU7XHJcblxyXG4gICAgaWYgKHRoaXMub25TdWJtaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBkZWxldGUgdGhpcy5mb3JtLnZhbHVlWycnXTtcclxuICAgICAgdGhpcy5vblN1Ym1pdC5hcHBseShudWxsLCBbdGhpcy5mb3JtXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jbGVhciA9IGZhbHNlO1xyXG5cclxuICAgIGlmICghdGhpcy5zYXZlVmFsdWUgfHwgdGhpcy5zYXZlVmFsdWUgPT09IGZhbHNlKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xlYXJEYXRhKCk7XHJcbiAgICAgIH0sIDIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRGdW5jdGlvbigpIHtcclxuICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgd2FudCB0byByZXNldCB0aGlzIGZvcm0/JykpIHtcclxuICAgICAgdGhpcy5jbGVhckRhdGEoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGN1c3RvbVN1Ym1pdEZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMuZm9ybS5pbnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmN1c3RvbVN1Ym1pdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLmZvcm0udmFsdWVbJyddO1xyXG4gICAgICB0aGlzLmN1c3RvbVN1Ym1pdC5hcHBseShudWxsLCBbdGhpcy5mb3JtXSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNsZWFyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjdXN0b21CdXR0b25GdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmN1c3RvbUJ1dHRvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuY3VzdG9tQnV0dG9uLmFwcGx5KG51bGwsIFtdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyRGF0YSgpIHtcclxuICAgIHRoaXMuY2xlYXIgPSB0cnVlO1xyXG4gICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIF8uZm9yRWFjaCh0aGlzLmlucHV0cywgKGlucHV0KSA9PiB7XHJcbiAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gbmV3IFBob25lQ29kZSgpLmNvbnRyb2xUeXBlKSB7XHJcbiAgICAgICAgZGF0YVtpbnB1dC5rZXldID0ge1xyXG4gICAgICAgICAgY29kZTogJycsXHJcbiAgICAgICAgICB2YWx1ZTogJydcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gbmV3IFRpbnlNY2UoKS5jb250cm9sVHlwZSkge1xyXG4gICAgICAgIGRhdGFbaW5wdXQua2V5XSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gbmV3IENoZWNrQm94KCkuY29udHJvbFR5cGUgfHwgaW5wdXQuY29udHJvbFR5cGUgPT09IG5ldyBTd2l0Y2hJbnB1dCgpLmNvbnRyb2xUeXBlKSB7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09IG5ldyBTZWxlY3Rpb25CeUFwaSgpLmNvbnRyb2xUeXBlKSB7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gbmV3IFNlbGVjdDIoKS5jb250cm9sVHlwZSB8fCBpbnB1dC5jb250cm9sVHlwZSA9PT0gbmV3IExpc3RDaGVja0JveCgpLmNvbnRyb2xUeXBlKSB7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBbXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmZvcm0ucmVzZXQoZGF0YSk7XHJcbiAgICBfLmZvckVhY2godGhpcy5pbnB1dHMsIChpbnB1dCkgPT4ge1xyXG4gICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09IG5ldyBDaGVja0JveCgpLmNvbnRyb2xUeXBlIHx8IGlucHV0LmNvbnRyb2xUeXBlID09PSBuZXcgU3dpdGNoSW5wdXQoKS5jb250cm9sVHlwZSkge1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlucHV0LmNvbnRyb2xUeXBlID09PSBuZXcgU2VsZWN0aW9uQnlBcGkoKS5jb250cm9sVHlwZSkge1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09IG5ldyBTZWxlY3QyKCkuY29udHJvbFR5cGUgfHwgaW5wdXQuY29udHJvbFR5cGUgPT09IG5ldyBMaXN0Q2hlY2tCb3goKS5jb250cm9sVHlwZSkge1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gW107XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZm9ybS5tYXJrQXNQcmlzdGluZSgpO1xyXG4gICAgdGhpcy5mb3JtLm1hcmtBc1VudG91Y2hlZCgpO1xyXG4gIH1cclxufVxyXG4iXX0=