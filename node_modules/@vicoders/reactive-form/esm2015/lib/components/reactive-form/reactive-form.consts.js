/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/reactive-form/reactive-form.consts.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
export const VALIDATOR_REQUIRED = 'required';
/** @type {?} */
export const VALIDATOR_PATTERN = 'pattern';
/** @type {?} */
export const VALIDATOR_MINLENGTH = 'minlength';
/** @type {?} */
export const VALIDATOR_MAXLENGTH = 'maxlength';
import * as _ from 'lodash';
/** @type {?} */
export const UpdateFormValue = (/**
 * @param {?} inputs
 * @param {?} data
 * @param {?=} options
 * @return {?}
 */
(inputs, data, options) => {
    // tslint:disable-next-line:max-line-length
    /** @type {?} */
    const ableSimpleValue = [
        'textbox',
        'dropdown',
        'radio',
        'checkbox',
        'datetimepicker',
        'uploadfile',
        'phonecode',
        'textarea',
        'textbox-mask',
        'tinymce',
        'single-select2',
        'selection-by-api',
        'switch-input',
        'uploadfilev2',
        'uploadfilev3',
        'type-ahead',
        'type-ahead-without-api',
        'custom_dropdown',
        'ranger-slider',
        'gutenberg',
        'dropzone'
    ];
    _.forEach(data, (/**
     * @param {?} value
     * @param {?} key
     * @return {?}
     */
    function (value, key) {
        inputs = _.map(inputs, (/**
         * @param {?} input
         * @return {?}
         */
        input => {
            if (input.key === key) {
                if (_.includes(ableSimpleValue, input.controlType)) {
                    input.value = value;
                    return input;
                }
                switch (input.controlType) {
                    case 'list-checkbox':
                        input.options = input.options.map((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => {
                            for (const i of value) {
                                if (item.value === i) {
                                    item.checked = true;
                                }
                            }
                            return item;
                        }));
                        return input;
                        break;
                    case 'select2':
                        input.options = input.options.map((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => {
                            for (const i of value) {
                                if (item.value === i) {
                                    item.selected = true;
                                }
                            }
                            return item;
                        }));
                        return input;
                        break;
                }
            }
            return input;
        }));
    }));
    return inputs;
});
/** @type {?} */
export const UpdateInputsValue = (/**
 * @param {?} inputs
 * @param {?} data
 * @return {?}
 */
(inputs, data) => {
    /** @type {?} */
    const ableType = ['dropdown', 'radio', 'list-checkbox', 'select2', 'single-select2', 'type-ahead-without-api', 'custom_dropdown'];
    _.forEach(data, (/**
     * @param {?} value
     * @param {?} key
     * @return {?}
     */
    function (value, key) {
        _.forEach(inputs, (/**
         * @param {?} input
         * @return {?}
         */
        function (input) {
            if (input.key === key) {
                if (_.includes(ableType, input.controlType)) {
                    input.options = value;
                }
                if (input.controlType === 'dropdown') {
                    input.value = _.head(value);
                }
                if (input.controlType === 'radio') {
                    input.value = ((/** @type {?} */ (_.head(value)))).value;
                }
            }
        }));
    }));
    return inputs;
});
class Support {
    constructor() {
        this.UpdateInputsValue = (/**
         * @param {?} inputs
         * @param {?} data
         * @return {?}
         */
        (inputs, data) => {
            /** @type {?} */
            const ableType = ['dropdown', 'radio', 'list-checkbox', 'select2', 'single-select2', 'type-ahead-without-api', 'custom_dropdown'];
            _.forEach(data, (/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                _.forEach(inputs, (/**
                 * @param {?} input
                 * @return {?}
                 */
                function (input) {
                    if (input.key === key) {
                        if (_.includes(ableType, input.controlType)) {
                            input.options = value;
                        }
                        if (input.controlType === 'dropdown') {
                            input.value = _.head(value);
                        }
                        if (input.controlType === 'radio') {
                            input.value = ((/** @type {?} */ (_.head(value)))).value;
                        }
                    }
                }));
            }));
            return inputs;
            // tslint:disable-next-line:semicolon
        });
        this.UpdateFormValue = (/**
         * @param {?} inputs
         * @param {?} data
         * @param {?=} options
         * @return {?}
         */
        (inputs, data, options) => {
            // tslint:disable-next-line:max-line-length
            /** @type {?} */
            const ableSimpleValue = [
                'textbox',
                'dropdown',
                'radio',
                'checkbox',
                'datetimepicker',
                'uploadfile',
                'phonecode',
                'textarea',
                'textbox-mask',
                'tinymce',
                'single-select2',
                'selection-by-api',
                'switch-input',
                'uploadfilev2',
                'uploadfilev3',
                'type-ahead',
                'type-ahead-without-api',
                'custom_dropdown',
                'ranger-slider',
                'gutenberg',
                'dropzone'
            ];
            _.forEach(data, (/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                inputs = _.map(inputs, (/**
                 * @param {?} input
                 * @return {?}
                 */
                input => {
                    if (input.key === key) {
                        if (_.includes(ableSimpleValue, input.controlType)) {
                            input.value = value;
                        }
                        switch (input.controlType) {
                            case 'list-checkbox':
                                input.options = input.options.map((/**
                                 * @param {?} item
                                 * @return {?}
                                 */
                                item => {
                                    for (const i of value) {
                                        if (item.value === i) {
                                            item.checked = true;
                                        }
                                    }
                                    return item;
                                }));
                                break;
                            case 'select2':
                                input.options = input.options.map((/**
                                 * @param {?} item
                                 * @return {?}
                                 */
                                item => {
                                    for (const i of value) {
                                        if (item.value === i) {
                                            item.selected = true;
                                        }
                                    }
                                    return item;
                                }));
                                break;
                        }
                    }
                    else {
                        input.value = input.value;
                    }
                    return input;
                }));
            }));
            return inputs;
            // tslint:disable-next-line:semicolon
        });
    }
}
if (false) {
    /** @type {?} */
    Support.prototype.UpdateInputsValue;
    /** @type {?} */
    Support.prototype.UpdateFormValue;
}
/** @type {?} */
export const support = new Support();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUtZm9ybS5jb25zdHMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Admljb2RlcnMvcmVhY3RpdmUtZm9ybS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3JlYWN0aXZlLWZvcm0vcmVhY3RpdmUtZm9ybS5jb25zdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTSxPQUFPLGtCQUFrQixHQUFHLFVBQVU7O0FBQzVDLE1BQU0sT0FBTyxpQkFBaUIsR0FBRyxTQUFTOztBQUMxQyxNQUFNLE9BQU8sbUJBQW1CLEdBQUcsV0FBVzs7QUFDOUMsTUFBTSxPQUFPLG1CQUFtQixHQUFHLFdBQVc7QUFFOUMsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7O0FBRTVCLE1BQU0sT0FBTyxlQUFlOzs7Ozs7QUFBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBWSxFQUFFLEVBQUU7OztVQUV0RCxlQUFlLEdBQUc7UUFDdEIsU0FBUztRQUNULFVBQVU7UUFDVixPQUFPO1FBQ1AsVUFBVTtRQUNWLGdCQUFnQjtRQUNoQixZQUFZO1FBQ1osV0FBVztRQUNYLFVBQVU7UUFDVixjQUFjO1FBQ2QsU0FBUztRQUNULGdCQUFnQjtRQUNoQixrQkFBa0I7UUFDbEIsY0FBYztRQUNkLGNBQWM7UUFDZCxjQUFjO1FBQ2QsWUFBWTtRQUNaLHdCQUF3QjtRQUN4QixpQkFBaUI7UUFDakIsZUFBZTtRQUNmLFdBQVc7UUFDWCxVQUFVO0tBQ1g7SUFDRCxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUk7Ozs7O0lBQUUsVUFBUyxLQUFLLEVBQUUsR0FBRztRQUNqQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNOzs7O1FBQUUsS0FBSyxDQUFDLEVBQUU7WUFDN0IsSUFBSSxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRTtnQkFDckIsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsV0FBVyxD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LE9BQU8sS0FBSyxDQUFDO2dCQUNmLENBQUMsRUFBQyxDQUFDO1lBQ0wsQ0FBQyxFQUFDLENBQUM7WUFDSCxPQUFPLE1BQU0sQ0FBQztZQUNkLHFDQUFxQztRQUN2QyxDQUFDLEVBQUM7SUFDSixDQUFDO0NBQUE7OztJQW5GQyxvQ0FtQkU7O0lBRUYsa0NBNkRFOzs7QUFHSixNQUFNLE9BQU8sT0FBTyxHQUFHLElBQUksT0FBTyxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFZBTElEQVRPUl9SRVFVSVJFRCA9ICdyZXF1aXJlZCc7XG5leHBvcnQgY29uc3QgVkFMSURBVE9SX1BBVFRFUk4gPSAncGF0dGVybic7XG5leHBvcnQgY29uc3QgVkFMSURBVE9SX01JTkxFTkdUSCA9ICdtaW5sZW5ndGgnO1xuZXhwb3J0IGNvbnN0IFZBTElEQVRPUl9NQVhMRU5HVEggPSAnbWF4bGVuZ3RoJztcblxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgY29uc3QgVXBkYXRlRm9ybVZhbHVlID0gKGlucHV0cywgZGF0YSwgb3B0aW9ucz86IHt9KSA9PiB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgY29uc3QgYWJsZVNpbXBsZVZhbHVlID0gW1xuICAgICd0ZXh0Ym94JyxcbiAgICAnZHJvcGRvd24nLFxuICAgICdyYWRpbycsXG4gICAgJ2NoZWNrYm94JyxcbiAgICAnZGF0ZXRpbWVwaWNrZXInLFxuICAgICd1cGxvYWRmaWxlJyxcbiAgICAncGhvbmVjb2RlJyxcbiAgICAndGV4dGFyZWEnLFxuICAgICd0ZXh0Ym94LW1hc2snLFxuICAgICd0aW55bWNlJyxcbiAgICAnc2luZ2xlLXNlbGVjdDInLFxuICAgICdzZWxlY3Rpb24tYnktYXBpJyxcbiAgICAnc3dpdGNoLWlucHV0JyxcbiAgICAndXBsb2FkZmlsZXYyJyxcbiAgICAndXBsb2FkZmlsZXYzJyxcbiAgICAndHlwZS1haGVhZCcsXG4gICAgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLFxuICAgICdjdXN0b21fZHJvcGRvd24nLFxuICAgICdyYW5nZXItc2xpZGVyJyxcbiAgICAnZ3V0ZW5iZXJnJyxcbiAgICAnZHJvcHpvbmUnXG4gIF07XG4gIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgaW5wdXRzID0gXy5tYXAoaW5wdXRzLCBpbnB1dCA9PiB7XG4gICAgICBpZiAoaW5wdXQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgaWYgKF8uaW5jbHVkZXMoYWJsZVNpbXBsZVZhbHVlLCBpbnB1dC5jb250cm9sVHlwZSkpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGlucHV0LmNvbnRyb2xUeXBlKSB7XG4gICAgICAgICAgY2FzZSAnbGlzdC1jaGVja2JveCc6XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2VsZWN0Mic6XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gaW5wdXRzO1xufTtcblxuZXhwb3J0IGNvbnN0IFVwZGF0ZUlucHV0c1ZhbHVlID0gKGlucHV0cywgZGF0YSkgPT4ge1xuICBjb25zdCBhYmxlVHlwZSA9IFsnZHJvcGRvd24nLCAncmFkaW8nLCAnbGlzdC1jaGVja2JveCcsICdzZWxlY3QyJywgJ3NpbmdsZS1zZWxlY3QyJywgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLCAnY3VzdG9tX2Ryb3Bkb3duJ107XG4gIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgXy5mb3JFYWNoKGlucHV0cywgZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIGlmIChpbnB1dC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoXy5pbmNsdWRlcyhhYmxlVHlwZSwgaW5wdXQuY29udHJvbFR5cGUpKSB7XG4gICAgICAgICAgaW5wdXQub3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gJ2Ryb3Bkb3duJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gXy5oZWFkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IChfLmhlYWQodmFsdWUpIGFzIGFueSkudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBpbnB1dHM7XG59O1xuXG5jbGFzcyBTdXBwb3J0IHtcbiAgVXBkYXRlSW5wdXRzVmFsdWUgPSAoaW5wdXRzLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgYWJsZVR5cGUgPSBbJ2Ryb3Bkb3duJywgJ3JhZGlvJywgJ2xpc3QtY2hlY2tib3gnLCAnc2VsZWN0MicsICdzaW5nbGUtc2VsZWN0MicsICd0eXBlLWFoZWFkLXdpdGhvdXQtYXBpJywgJ2N1c3RvbV9kcm9wZG93biddO1xuICAgIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBfLmZvckVhY2goaW5wdXRzLCBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICBpZiAoXy5pbmNsdWRlcyhhYmxlVHlwZSwgaW5wdXQuY29udHJvbFR5cGUpKSB7XG4gICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnB1dC5jb250cm9sVHlwZSA9PT0gJ2Ryb3Bkb3duJykge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBfLmhlYWQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5wdXQuY29udHJvbFR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gKF8uaGVhZCh2YWx1ZSkgYXMgYW55KS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dHM7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xuXG4gIFVwZGF0ZUZvcm1WYWx1ZSA9IChpbnB1dHMsIGRhdGEsIG9wdGlvbnM/OiB7fSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBjb25zdCBhYmxlU2ltcGxlVmFsdWUgPSBbXG4gICAgICAndGV4dGJveCcsXG4gICAgICAnZHJvcGRvd24nLFxuICAgICAgJ3JhZGlvJyxcbiAgICAgICdjaGVja2JveCcsXG4gICAgICAnZGF0ZXRpbWVwaWNrZXInLFxuICAgICAgJ3VwbG9hZGZpbGUnLFxuICAgICAgJ3Bob25lY29kZScsXG4gICAgICAndGV4dGFyZWEnLFxuICAgICAgJ3RleHRib3gtbWFzaycsXG4gICAgICAndGlueW1jZScsXG4gICAgICAnc2luZ2xlLXNlbGVjdDInLFxuICAgICAgJ3NlbGVjdGlvbi1ieS1hcGknLFxuICAgICAgJ3N3aXRjaC1pbnB1dCcsXG4gICAgICAndXBsb2FkZmlsZXYyJyxcbiAgICAgICd1cGxvYWRmaWxldjMnLFxuICAgICAgJ3R5cGUtYWhlYWQnLFxuICAgICAgJ3R5cGUtYWhlYWQtd2l0aG91dC1hcGknLFxuICAgICAgJ2N1c3RvbV9kcm9wZG93bicsXG4gICAgICAncmFuZ2VyLXNsaWRlcicsXG4gICAgICAnZ3V0ZW5iZXJnJyxcbiAgICAgICdkcm9wem9uZSdcbiAgICBdO1xuICAgIF8uZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBpbnB1dHMgPSBfLm1hcChpbnB1dHMsIGlucHV0ID0+IHtcbiAgICAgICAgaWYgKGlucHV0LmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgaWYgKF8uaW5jbHVkZXMoYWJsZVNpbXBsZVZhbHVlLCBpbnB1dC5jb250cm9sVHlwZSkpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAoaW5wdXQuY29udHJvbFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xpc3QtY2hlY2tib3gnOlxuICAgICAgICAgICAgICBpbnB1dC5vcHRpb25zID0gaW5wdXQub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0Mic6XG4gICAgICAgICAgICAgIGlucHV0Lm9wdGlvbnMgPSBpbnB1dC5vcHRpb25zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dHM7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICB9O1xufVxuXG5leHBvcnQgY29uc3Qgc3VwcG9ydCA9IG5ldyBTdXBwb3J0KCk7XG4iXX0=